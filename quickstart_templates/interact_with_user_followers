"""
So this template i downloaded from here and edited a bit to interact with users followers: Like, Comment, Follow.
You can still use the hashtags to interact with, but they are commented out.
Line 19,20,21 and 76 to interact with hashtags
session.set_delimit_commenting(enabled=True, max=20, min=0) is commented out because from some reasons the script crashes.

"""
# !/usr/bin/python2.7
import random
from instapy import InstaPy
from instapy import smart_run

# get a session!

session = InstaPy(username='', password='', headless_browser=True)

# let's go! :>
with smart_run(session):
    
    #INTERACT WITH HASHTAGS
    #hashtags = ['bucuresti', 'pantelimon', 'manastur', 'constanta', 'costinesti']
    #random.shuffle(hashtags)
    #my_hashtags = hashtags[:5]  """CHOSE 5 RANDOM HASHTAGS FROM THE LIST PROVIDED"""
    
    #INTERACT WITH FOLLOWERS
    follwers = session.grab_followers(username="b.u.g.mafia", amount="300", live_match=True, store_locally=True)
    print("followers", follwers)

    # general settings
    session.set_dont_like(['sad', 'depression'])
    session.set_do_follow(enabled=True, percentage=40, times=1)
    session.set_do_comment(enabled=True, percentage=35)
    session.set_comments([
                             u':heart_eyes:'
                             u':heart_eyes:',
                             u':heart_eyes:'
                             u':wink:',
                             u':muscle:'
                             u':wink:',
                             u':heart_eyes:'
                             u':smiley:'
                             u':wink:',
                             u':heart_eyes:'
                             u':wink:',
                             u':muscle:'
                             u':wink:',
                             u':wink:' 
			     u':wink:'
                             u':wink:',
                             u':smiley:'
                             u':wink:',
                             u':smiley:'
                             u':thumbsup:',
                             u'Hood UP!'],
                         media='Photo')
  session.set_do_like(True, percentage=75)
    session.set_delimit_liking(enabled=True, max=100, min=0)
 #   session.set_delimit_commenting(enabled=True, max=20, min=0)
    session.set_relationship_bounds(enabled=True,
                                    potency_ratio=None,
                                    delimit_by_numbers=True,
                                    max_followers=4000,
                                    max_following=3000,
                                    min_followers=40,
                                    min_following=50)

    session.set_quota_supervisor(enabled=True,
                                 sleep_after=["likes", "follows"],
                                 sleepyhead=True, stochastic_flow=True,
                                 notify_me=True,
                                 peak_likes=(100, 1000),
                                 peak_comments=(21, 250),
                                 peak_follows=(200, None))

    session.set_user_interact(amount=1, randomize=False, percentage=40)

    #activity
    #session.like_by_tags(my_hashtags, amount=10, media=None) """INTERACT WITH HASHTAGS"""
    
    #unfollow
    session.unfollow_users(amount=100, InstapyFollowed=(True, "nonfollowers"),
                           style="FIFO",
                           unfollow_after=12 * 60 * 60, sleep_delay=501)
    session.unfollow_users(amount=100, InstapyFollowed=(True, "all"),
                           style="FIFO", unfollow_after=24 * 60 * 60,
                           sleep_delay=501)
				   
						   
	for user in follwers:
        session.interact_by_users([user], amount=5, randomize=True, media='Photo')
		
	
